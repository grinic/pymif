pymif.microscope_manager.scape_manager
======================================

.. py:module:: pymif.microscope_manager.scape_manager


Classes
-------

.. autoapisummary::

   pymif.microscope_manager.scape_manager.ScapeManager


Module Contents
---------------

.. py:class:: ScapeManager(ome_tiff_path: str, chunks: Tuple[int, Ellipsis] = (1, 1, 8, 1024, 1024))

   Bases: :py:obj:`pymif.microscope_manager.microscope_manager.MicroscopeManager`


   MicroscopeManager for SCAPE microscope datasets where metadata is stored in an external
   .xlif file located in a 'Metadata' folder next to the OME-TIFF.


   .. py:attribute:: ome_tiff_path


   .. py:attribute:: chunks
      :value: (1, 1, 8, 1024, 1024)



   .. py:method:: _strip_ome_tiff_suffix(filename: str) -> str
      :staticmethod:


      Convert typical Leica names like:
        'p1 (2).ome.tif'  -> 'p1 (2)'
        'p1 (2).ome.tiff' -> 'p1 (2)'
        'p1 (2).tif'      -> 'p1 (2)'



   .. py:method:: _find_xlif_for_ome_tiff() -> pathlib.Path

      Given an OME-TIFF path, look for:
        <ome_dir>/Metadata/<base_name>.xlif

      If not found, fall back to searching for any .xlif inside <ome_dir>/Metadata.



   .. py:method:: _convert_spatial_units_to_micrometers()

      Convert spatial scales (Z, Y, X) from meters to micrometers (Âµm)
      if they are currently stored in meters.

      Updates:
          self.metadata["scales"]
          self.metadata["units"]



   .. py:method:: _parse_xlif_metadata() -> Dict[str, Any]

      Parse dimensional, physical, and channel metadata from the matched .xlif file.



   .. py:method:: _build_dask_array() -> List[dask.array.Array]

      Build a TCZYX dask array from the provided OME-TIFF file.



   .. py:method:: read()

      Main entry point: parse metadata and build data array.



